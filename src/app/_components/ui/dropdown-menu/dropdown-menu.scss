@use '../../../../styles/base/mixins' as *;
@use '../../../../styles/base/variables' as *;

.dropdown-menu {
  $self: &;

  &__content {
    z-index: 50;
    min-width: 8rem;
    overflow: hidden;
    border-radius: $border-radius-lg;
    border: 1px solid $c-grey-light;
    background: $c-white;
    padding: $spacing-sm;
    color: $c-grey-dark;
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -2px rgba(0, 0, 0, 0.05);
    animation: slideDownAndFade 0.2s ease-out;

    &[data-side='top'] {
      animation: slideUpAndFade 0.2s ease-out;
    }

    &[data-side='right'] {
      animation: slideLeftAndFade 0.2s ease-out;
    }

    &[data-side='bottom'] {
      animation: slideDownAndFade 0.2s ease-out;
    }

    &[data-side='left'] {
      animation: slideRightAndFade 0.2s ease-out;
    }
  }

  &__item {
    @include flex(flex-start, center, row, $spacing-sm);

    & {
      position: relative;
      border-radius: $border-radius-regular;
      padding: $spacing-sm $spacing-regular;
      font-size: $fs-sm;
      outline: none;
      transition: all 0.15s ease-in-out;
    }

    &,
    * {
      cursor: pointer;
    }

    &:focus {
      background: $c-grey-lighter;
      color: $c-black;
    }

    &:hover:not([data-disabled]) {
      background: $c-grey-lighter;
      color: $c-black;
    }

    &[data-disabled] {
      pointer-events: none;
      opacity: 0.5;
    }

    &--inset {
      padding-left: $spacing-lg;
    }
  }

  &__checkbox-item,
  &__radio-item {
    position: relative;
    @include flex(space-between, center, row);
    border-radius: $border-radius-sm;
    padding: $spacing-xs $spacing-sm;
    padding-left: $spacing-lg;
    font-size: $fs-sm;
    outline: none;
    cursor: pointer;
    transition: all 0.15s ease-in-out;

    &:focus {
      background: $c-grey-lighter;
      color: $c-black;
    }

    &:hover:not([data-disabled]) {
      background: $c-grey-lighter;
      color: $c-black;
    }

    &[data-disabled] {
      pointer-events: none;
      opacity: 0.5;
    }
  }

  &__checkbox-item--checked,
  &__radio-item[data-state='checked'] {
    background: $c-primary;
    color: $c-white;

    &:hover {
      background: darken($c-primary, 10%);
    }
  }

  &__item-indicator {
    @include flex(center, center, row);
    margin-left: auto;
    padding-left: $spacing-sm;

    &__icon {
      height: 16px;
      width: 16px;
    }
  }

  &__label {
    padding: $spacing-xs $spacing-sm;
    font-size: $fs-xs;
    font-weight: $fw-semibold;
    color: $c-grey-dark;

    &--inset {
      padding-left: $spacing-lg;
    }
  }

  &__separator {
    margin: $spacing-xs 0;
    height: 1px;
    background: $c-grey-light;
  }

  &__shortcut {
    margin-left: auto;
    padding-left: $spacing-sm;
    font-size: $fs-xs;
    color: $c-grey;
    letter-spacing: 0.1em;
  }

  &__sub-trigger {
    @include flex(space-between, center, row);
    border-radius: $border-radius-sm;
    padding: $spacing-xs $spacing-sm;
    font-size: $fs-sm;
    outline: none;
    cursor: pointer;
    transition: all 0.15s ease-in-out;

    &:focus {
      background: $c-grey-lighter;
      color: $c-black;
    }

    &:hover:not([data-disabled]) {
      background: $c-grey-lighter;
      color: $c-black;
    }

    &[data-disabled] {
      pointer-events: none;
      opacity: 0.5;
    }

    &--inset {
      padding-left: $spacing-lg;
    }

    &__icon {
      margin-left: auto;
      height: 16px;
      width: 16px;
    }
  }

  &__sub-content {
    z-index: 50;
    min-width: 8rem;
    overflow: hidden;
    border-radius: $border-radius-lg;
    border: 1px solid $c-grey-light;
    background: $c-white;
    padding: $spacing-xs;
    color: $c-grey-dark;
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -2px rgba(0, 0, 0, 0.05);
    animation: slideDownAndFade 0.2s ease-out;
  }

  // Animations
  @keyframes slideUpAndFade {
    from {
      opacity: 0;
      transform: translateY(2px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideRightAndFade {
    from {
      opacity: 0;
      transform: translateX(-2px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slideDownAndFade {
    from {
      opacity: 0;
      transform: translateY(-2px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideLeftAndFade {
    from {
      opacity: 0;
      transform: translateX(2px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
}
